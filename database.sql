-- phpMyAdmin SQL Dump
-- Joyboo
-- version 1.0
-- https://vveq.com/
-- Generation Time: 2018-12-15 17:10:25

--
-- Database: `vveq`
--
CREATE DATABASE IF NOT EXISTS vveq CHARACTER SET UTF8;

USE `vveq`;

-- --------------------------------------------------------

--
-- 表的结构
--
CREATE TABLE IF NOT EXISTS `user` (
  `id` int UNSIGNED NOT NULL AUTO_INCREMENT,
  `username` varchar(20) NOT NULL DEFAULT '' COMMENT '账号',
  `nickname` varchar(20) NOT NULL DEFAULT '' COMMENT '昵称',
  `tel` varchar(20) NOT NULL DEFAULT '' COMMENT '电话',
  `password` varchar(255) NOT NULL DEFAULT '' COMMENT '密码',
  `email` varchar(50) NOT NULL DEFAULT '' COMMENT 'email地址',
  `avatar` varchar(255) NOT NULL DEFAULT '' COMMENT '头像',
  `status` tinyint(2) UNSIGNED NOT NULL DEFAULT 1 COMMENT '状态，1-正常，2封禁',
  `instime` int(10) UNSIGNED NOT NULL COMMENT '注册时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户表';


CREATE TABLE IF NOT EXISTS `dau` (
  `id` int UNSIGNED AUTO_INCREMENT NOT NULL,
  `uid` int UNSIGNED NOT NULL COMMENT '用户id',
  `ip` bigint(20) UNSIGNED NOT NULL DEFAULT 0 COMMENT '登录ip',
  `instime` int(10) UNSIGNED NOT NULL COMMENT '登录时间',
  PRIMARY KEY (`id`,`instime`),
  KEY `uid` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户登录表'
PARTITION BY RANGE (instime)
(
PARTITION p2018 VALUES LESS THAN (1546272000) ENGINE=InnoDB COMMENT='2018年',
PARTITION p2019 VALUES LESS THAN (1577808000) ENGINE=InnoDB COMMENT='2019年',
PARTITION p2020 VALUES LESS THAN (1609430400) ENGINE=InnoDB COMMENT='2020年',
PARTITION p2021 VALUES LESS THAN (1640966400) ENGINE=InnoDB COMMENT='2021年',
PARTITION p2022 VALUES LESS THAN (1672502400) ENGINE=InnoDB COMMENT='2022年',
PARTITION p2023 VALUES LESS THAN (1704038400) ENGINE=InnoDB COMMENT='2023年',
PARTITION p2024 VALUES LESS THAN (1735660800) ENGINE=InnoDB COMMENT='2024年',
PARTITION p2025 VALUES LESS THAN (1767196800) ENGINE=InnoDB COMMENT='2025年',
PARTITION p2026 VALUES LESS THAN (1798732800) ENGINE=InnoDB COMMENT='2026年',
PARTITION p2027 VALUES LESS THAN (1830268800) ENGINE=InnoDB COMMENT='2027年',
PARTITION p2028 VALUES LESS THAN (1861891200) ENGINE=InnoDB COMMENT='2028年',
PARTITION pmax VALUES LESS THAN MAXVALUE
);
